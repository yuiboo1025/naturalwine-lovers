<!-- ã‚¿ãƒ–ä½œæˆ-->
<div class ="row justify-content-center mt-3" >
  <div class ="col">
    <ul id="tab-menu">
        <li><a href="#tab-All" class="active">All</a></li>
      <% genres.each do |genre| %>
        <li><a href="#tab-<%= genre.genre_name %>" class=""><%= genre.genre_name %></a></li>
      <% end %>
      </ul>
   </div>
</div>

<!-- ã‚¿ãƒ–ã®å†…å®¹ä½œæˆ-->
<div class ="row">
  <div id="tab-contents">

    <!-- Allã‚’è¡¨ç¤º-->
    <div id="tab-All" class="tab">
      <% wines.each do |wine| %>
        <div class="card-deck wine_card my-2 pt-1 px-1" style="width:300px;">
          <div class ="card text-center">
            
            <div class ="card_spot_name">
              <%= link_to spot_path(wine.spot) do %>
                ğŸ“<%= wine.spot.spot_name %>
              <% end %>
            </div>
            <div class ="card_wine_image text-center">
              <%= link_to wine_path(wine) do %>
                <%= image_tag wine.get_wine_image(290,290) %>
              <% end %>
            </div>
            <div class ="card_member_name">
              <%= link_to wines_myindex_path(wine.member.id) do %>
                <%= wine.member.name %>
              <% end %>
            </div>
            
            <div id= "wine_<%= wine.id %>">
              <div class ="row d-flex justify-content-end">
                <div class ="col card_commenr_name">
                  <%= link_to wine_path(wine.id) do%>
                    <i class="far fa-comment"></i><%= wine.comments.count %>
                  <% end %>
                </div>
                <div class ="col card_favorites favorite-btn">
                   <%= render 'public/favorites/favorite-btn', wine: wine %>
                </div>
              </div>
            </div>
            
          </div>
        </div>
      <% end %>
    </div>

   <!-- ã‚¸ãƒ£ãƒ³ãƒ«ã”ã¨ã«è¡¨ç¤º-->
    <% genres.each do |genre| %>
      <div id="tab-<%= genre.genre_name %>" class="tab">
        <% genre.wines.each do |wine| %>
          <div class="card-deck wine_card my-2 pt-1 px-1" style="width:300px;">
            <div class ="card text-center">
              <div class ="card_spot_name">
                <%= link_to spot_path(wine.spot) do %>
                 ğŸ“<%= wine.spot.spot_name %>
                <% end %>
              </div>
              <div class ="card_wine_image text-center">
                <%= link_to wine_path(wine) do %>
                  <%= image_tag wine.get_wine_image(290,290) %>
                <% end %>
              </div>
              <div class ="card_member_name">
                <%= link_to wines_myindex_path(wine.member.id) do %>
                  <%= wine.member.name %>
                <% end %>
              </div>
              <div class ="row d-flex justify-content-end">
                <div class ="col card_commenr_name">
                  <%= link_to wine_path(wine.id) do%>
                    <i class="far fa-comment"></i><%= wine.comments.count %>
                  <% end %>
                </div>
                <div class ="col card_favorites">
                  <% if wine.favorited_by?(current_member) %>
                    <p>â™¥<%= wine.favorites.count %></p>
                  <% else %>
                    <p> â™¡<%= wine.favorites.count %></p>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>

  </div>
</div>

    <script>
    //åˆæœŸè¨­å®šã§è¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯tab-Allã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã ã‘ã«ã—ã¦ã€ãã‚Œä»¥å¤–ã®å†…å®¹ã¯éè¡¨ç¤ºã«ã™ã‚‹
      $('#tab-contents .tab[id != "tab-All"]').hide();

ã€€ã€€//id="tab-menu"ã®aã‚¿ã‚°ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«ã€å‡¦ç†ã‚’å®Ÿè¡Œ
      $('#tab-menu a').on('click', function(event) {
        //id="tab-contents"å†…ã®ã„ãšã‚Œã‹ã®ã‚¿ãƒ–ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«ã€ãã®ã‚¿ãƒ–å†…ã®å…¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã„ã£ãŸã‚“éè¡¨ç¤º
        $("#tab-contents .tab").hide();
        //activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤ã™ã‚‹(CSSã‚’å¯¾å¿œã•ã›ã‚‹ãŸã‚)
        $("#tab-menu .active").removeClass("active");
        //$(this)ã®ã¨ã(ã‚¿ãƒ–ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ã)activeã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã™ã‚‹
        $(this).addClass("active");
        //hrefå±æ€§ã‚’å–å¾—ã—ã€å–å¾—ã—ãŸhrefå±æ€§ã®ä¸­èº«ã‚’è¡¨ç¤º
        $($(this).attr("href")).show();
        event.preventDefault();
      });
   </script>


    <script src="javascript/src/jquery.min.js"></script>